language: java

os: linux

arch:
  - amd64
  - ppc64le

# Need to select an older Ubuntu distribution that supports JDK7
dist: trusty

jdk:
  - openjdk7
  - oraclejdk8
  - openjdk8
  - oraclejdk9
  - openjdk11
  - openjdk14

# Workaround to using openjdk7 with Gradle due to security issue:
# https://github.com/gradle/gradle/issues/2421

script:
  - ./gradlew clean build javadoc

# Exclude the unsupported jdk on ppc64le travis.
jobs:
  exclude:
     - arch: ppc64le
        jdk: openjdk7
     - arch: ppc64le
        jdk: oraclejdk8
     - arch: ppc64le
        jdk: openjdk8
     - arch: ppc64le
        jdk: oraclejdk9
